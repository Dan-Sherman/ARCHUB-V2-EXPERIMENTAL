import{I as L,K as W,L as X,S as q,i as P,s as z,c as B,m as M,t as x,k as w,p as O,e as S,b as E,v as I,d as m,f as j,g as h,J as D,n as C,a as A,l as K,w as F,M as Y,q as Z,N as ee,h as H,j as J,o as N}from"./main.7afbe1f9.js";import te from"./Layout.af32468c.js";import{I as se}from"./InertiaLink.32a4eac3.js";function re(...i){const e=typeof i[0]=="string"?i[0]:null,l=(typeof i[0]=="string"?i[1]:i[0])||{},t=e?L.Inertia.restore(e):null;let s=l,n=null,b=null,$=r=>r;const y=W({...t?t.data:l,isDirty:!1,errors:t?t.errors:{},hasErrors:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,processing:!1,setStore(r,o){y.update(c=>Object.assign({},c,typeof r=="string"?{[r]:o}:r))},data(){return Object.keys(l).reduce((r,o)=>(r[o]=this[o],r),{})},transform(r){return $=r,this},defaults(r,o){return typeof r>"u"?(s=Object.assign(s,this.data()),this):(s=Object.assign(s,o?{[r]:o}:r),this)},reset(...r){return r.length===0?this.setStore(s):this.setStore(Object.keys(s).filter(o=>r.includes(o)).reduce((o,c)=>(o[c]=s[c],o),{})),this},setError(r,o){return this.setStore("errors",{...this.errors,...o?{[r]:o}:r}),this},clearErrors(...r){return this.setStore("errors",Object.keys(this.errors).reduce((o,c)=>({...o,...r.length>0&&!r.includes(c)?{[c]:this.errors[c]}:{}}),{})),this},submit(r,o,c={}){const v=$(this.data()),g={...c,onCancelToken:d=>{if(n=d,c.onCancelToken)return c.onCancelToken(d)},onBefore:d=>{if(this.setStore("wasSuccessful",!1),this.setStore("recentlySuccessful",!1),clearTimeout(b),c.onBefore)return c.onBefore(d)},onStart:d=>{if(this.setStore("processing",!0),c.onStart)return c.onStart(d)},onProgress:d=>{if(this.setStore("progress",d),c.onProgress)return c.onProgress(d)},onSuccess:async d=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors(),this.setStore("wasSuccessful",!0),this.setStore("recentlySuccessful",!0),b=setTimeout(()=>this.setStore("recentlySuccessful",!1),2e3),c.onSuccess)return c.onSuccess(d)},onError:d=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors().setError(d),c.onError)return c.onError(d)},onCancel:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),c.onCancel)return c.onCancel()},onFinish:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),n=null,c.onFinish)return c.onFinish()}};r==="delete"?L.Inertia.delete(o,{...g,data:v}):L.Inertia[r](o,v,g)},get(r,o){this.submit("get",r,o)},post(r,o){this.submit("post",r,o)},put(r,o){this.submit("put",r,o)},patch(r,o){this.submit("patch",r,o)},delete(r,o){this.submit("delete",r,o)},cancel(){n&&n.cancel()}});return y.subscribe(r=>{r.isDirty===X(r.data(),s)&&r.setStore("isDirty",!r.isDirty);const o=Object.keys(r.errors).length>0;r.hasErrors!==o&&r.setStore("hasErrors",!r.hasErrors),e&&L.Inertia.remember({data:r.data(),errors:r.errors},e)}),y}function le(i){let e,l,t,s,n=i[0].display_name+"",b,$,y,r,o=i[0].user.username+"",c,v,g,d=i[0].summary+"",_;return{c(){e=S("div"),l=E(),t=S("div"),s=S("h5"),b=I(n),$=E(),y=S("p"),r=I("By "),c=I(o),v=E(),g=S("p"),_=I(d),m(e,"class","h-28 bg-center bg-[url('/images/arcomm-placeholder.jpg')]"),m(s,"class","truncate text-md font-semibold text-white tracking-tight"),m(y,"class","truncate text-xs font-normal text-gray-400"),m(g,"class","pb-3 truncate text-xs font-normal text-gray-400"),m(t,"class","pt-4")},m(u,k){j(u,e,k),j(u,l,k),j(u,t,k),h(t,s),h(s,b),h(t,$),h(t,y),h(y,r),h(y,c),h(t,v),h(t,g),h(g,_)},p(u,k){k&1&&n!==(n=u[0].display_name+"")&&D(b,n),k&1&&o!==(o=u[0].user.username+"")&&D(c,o),k&1&&d!==(d=u[0].summary+"")&&D(_,d)},d(u){u&&C(e),u&&C(l),u&&C(t)}}}function ne(i){let e,l;return e=new se({props:{href:"/hub/missions/"+i[0].id,class:"h-52 p-3 rounded-lg border border-gray-700 shadow-md bg-gray-800",$$slots:{default:[le]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(t,s){M(e,t,s),l=!0},p(t,[s]){const n={};s&1&&(n.href="/hub/missions/"+t[0].id),s&3&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function oe(i,e,l){let{mission:t}=e;return i.$$set=s=>{"mission"in s&&l(0,t=s.mission)},[t]}class V extends q{constructor(e){super(),P(this,e,oe,ne,z,{mission:0})}}function ie(i){let e,l=i[0].progress.percentage+"",t,s,n;return{c(){e=S("progress"),t=I(l),s=I("%"),m(e,"class","mb-3"),e.value=n=i[0].progress.percentage,m(e,"max","100")},m(b,$){j(b,e,$),h(e,t),h(e,s)},p(b,$){$&1&&l!==(l=b[0].progress.percentage+"")&&D(t,l),$&1&&n!==(n=b[0].progress.percentage)&&(e.value=n)},d(b){b&&C(e)}}}function ae(i){let e;return{c(){e=S("p"),e.innerHTML='<span class="font-semibold">Click to upload</span> or drag and drop',m(e,"class","mb-2 text-sm text-gray-500 dark:text-gray-400")},m(l,t){j(l,e,t)},p:F,d(l){l&&C(e)}}}function ce(i){let e,l,t,s,n,b,$,y,r,o,c;function v(_,u){return _[0].progress?ie:ae}let g=v(i),d=g(i);return{c(){e=S("div"),l=S("label"),t=S("div"),s=A("svg"),n=A("path"),b=E(),d.c(),$=E(),y=S("form"),r=S("input"),m(n,"stroke-linecap","round"),m(n,"stroke-linejoin","round"),m(n,"stroke-width","2"),m(n,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),m(s,"aria-hidden","true"),m(s,"class","mb-3 w-10 h-10 text-gray-400"),m(s,"fill","none"),m(s,"stroke","currentColor"),m(s,"viewBox","0 0 24 24"),m(s,"xmlns","http://www.w3.org/2000/svg"),m(t,"class","flex flex-col justify-center items-center pt-5 pb-6"),m(r,"id","dropzone-file"),m(r,"type","file"),m(r,"class","hidden"),m(l,"for","dropzone-file"),m(l,"class","flex flex-col justify-center items-center w-full h-52 bg-gray-50 rounded-lg border-2 border-gray-300 border-dashed cursor-pointer dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"),m(e,"class","flex justify-center items-center w-full")},m(_,u){j(_,e,u),h(e,l),h(l,t),h(t,s),h(s,n),h(t,b),d.m(t,null),h(l,$),h(l,y),h(y,r),o||(c=[K(r,"input",i[3]),K(r,"change",i[2])],o=!0)},p(_,[u]){g===(g=v(_))&&d?d.p(_,u):(d.d(1),d=g(_),d&&(d.c(),d.m(t,null)))},i:F,o:F,d(_){_&&C(e),d.d(),o=!1,Y(c)}}}function ue(i,e,l){let t,s=re({mission:null});Z(i,s,$=>l(0,t=$));function n(){t.post("/hub/missions")}return[t,s,n,$=>ee(s,t.mission=$.target.files[0],t)]}class fe extends q{constructor(e){super(),P(this,e,ue,ce,z,{})}}function U(i,e,l){const t=i.slice();return t[2]=e[l],t}function G(i,e,l){const t=i.slice();return t[2]=e[l],t}function Q(i){let e,l;return e=new V({props:{mission:i[2]}}),{c(){B(e.$$.fragment)},m(t,s){M(e,t,s),l=!0},p(t,s){const n={};s&2&&(n.mission=t[2]),e.$set(n)},i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function R(i){let e,l;return e=new V({props:{mission:i[2]}}),{c(){B(e.$$.fragment)},m(t,s){M(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.mission=t[2]),e.$set(n)},i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ge(i){let e,l,t,s,n,b,$,y,r,o,c;n=new fe({});let v=i[1],g=[];for(let f=0;f<v.length;f+=1)g[f]=Q(G(i,v,f));const d=f=>w(g[f],1,1,()=>{g[f]=null});let _=i[0],u=[];for(let f=0;f<_.length;f+=1)u[f]=R(U(i,_,f));const k=f=>w(u[f],1,1,()=>{u[f]=null});return{c(){e=S("div"),l=S("h3"),l.textContent="My missions",t=E(),s=S("div"),B(n.$$.fragment),b=E();for(let f=0;f<g.length;f+=1)g[f].c();$=E(),y=S("h3"),y.textContent="All missions",r=E(),o=S("div");for(let f=0;f<u.length;f+=1)u[f].c();m(l,"class","uppercase text-center font-bold leading-tight text-2xl mb-2 text-blue-600"),m(s,"class","col-span-full grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"),m(y,"class","uppercase text-center font-bold leading-tight text-2xl my-2 text-blue-600"),m(o,"class","col-span-full grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"),m(e,"class","grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6")},m(f,p){j(f,e,p),h(e,l),h(e,t),h(e,s),M(n,s,null),h(s,b);for(let a=0;a<g.length;a+=1)g[a].m(s,null);h(e,$),h(e,y),h(e,r),h(e,o);for(let a=0;a<u.length;a+=1)u[a].m(o,null);c=!0},p(f,p){if(p&2){v=f[1];let a;for(a=0;a<v.length;a+=1){const T=G(f,v,a);g[a]?(g[a].p(T,p),x(g[a],1)):(g[a]=Q(T),g[a].c(),x(g[a],1),g[a].m(s,null))}for(H(),a=v.length;a<g.length;a+=1)d(a);J()}if(p&1){_=f[0];let a;for(a=0;a<_.length;a+=1){const T=U(f,_,a);u[a]?(u[a].p(T,p),x(u[a],1)):(u[a]=R(T),u[a].c(),x(u[a],1),u[a].m(o,null))}for(H(),a=_.length;a<u.length;a+=1)k(a);J()}},i(f){if(!c){x(n.$$.fragment,f);for(let p=0;p<v.length;p+=1)x(g[p]);for(let p=0;p<_.length;p+=1)x(u[p]);c=!0}},o(f){w(n.$$.fragment,f),g=g.filter(Boolean);for(let p=0;p<g.length;p+=1)w(g[p]);u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)w(u[p]);c=!1},d(f){f&&C(e),O(n),N(g,f),N(u,f)}}}function de(i){let e,l;return e=new te({props:{$$slots:{default:[ge]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(t,s){M(e,t,s),l=!0},p(t,[s]){const n={};s&131&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function me(i,e,l){let{missions:t}=e,{my_missions:s}=e;return i.$$set=n=>{"missions"in n&&l(0,t=n.missions),"my_missions"in n&&l(1,s=n.my_missions)},[t,s]}class be extends q{constructor(e){super(),P(this,e,me,de,z,{missions:0,my_missions:1})}}export{be as default};
