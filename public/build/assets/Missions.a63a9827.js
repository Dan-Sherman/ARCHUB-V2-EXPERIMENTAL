import{S as G,i as J,s as K,e as B,a as V,b as O,d,f as T,g as y,l as q,w as P,n as z,V as ae,q as re,a3 as ee,v as Z,a1 as $,t as M,h as U,k as D,j as A,o as ce,c as E,m as H,p as L,Y as ue,F as fe,Z as F,$ as I,a0 as N,r as ge,I as _e}from"./main.07596839.js";import me from"./Layout.0b0c247d.js";import{u as pe,C as de}from"./Card.c80e95dc.js";import"./InertiaLink.f8cbdbc6.js";function he(l){let e,t=l[0].progress.percentage+"",i,r,n;return{c(){e=B("progress"),i=Z(t),r=Z("%"),d(e,"class","mb-3"),e.value=n=l[0].progress.percentage,d(e,"max","100")},m(s,u){T(s,e,u),y(e,i),y(e,r)},p(s,u){u&1&&t!==(t=s[0].progress.percentage+"")&&$(i,t),u&1&&n!==(n=s[0].progress.percentage)&&(e.value=n)},d(s){s&&z(e)}}}function be(l){let e;return{c(){e=B("p"),e.innerHTML='<span class="font-semibold">Click to upload</span> or drag and drop',d(e,"class","mb-2 text-sm text-gray-500 dark:text-gray-400")},m(t,i){T(t,e,i)},p:P,d(t){t&&z(e)}}}function ke(l){let e,t,i,r,n,s,u,c,h,a,p;function g(k,C){return k[0].progress?he:be}let b=g(l),m=b(l);return{c(){e=B("div"),t=B("label"),i=B("div"),r=V("svg"),n=V("path"),s=O(),m.c(),u=O(),c=B("form"),h=B("input"),d(n,"stroke-linecap","round"),d(n,"stroke-linejoin","round"),d(n,"stroke-width","2"),d(n,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),d(r,"aria-hidden","true"),d(r,"class","mb-3 h-10 w-10 text-gray-400"),d(r,"fill","none"),d(r,"stroke","currentColor"),d(r,"viewBox","0 0 24 24"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(i,"class","flex flex-col items-center justify-center pt-5 pb-6"),d(h,"id","dropzone-file"),d(h,"type","file"),d(h,"class","hidden"),d(t,"for","dropzone-file"),d(t,"class","flex h-60 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-600 bg-gray-700 hover:border-gray-500 hover:bg-gray-600"),d(e,"class","flex w-full items-center justify-center")},m(k,C){T(k,e,C),y(e,t),y(t,i),y(i,r),y(r,n),y(i,s),m.m(i,null),y(t,u),y(t,c),y(c,h),a||(p=[q(h,"input",l[4]),q(h,"change",l[2]),q(e,"drop",l[3]),q(e,"dragover",ve)],a=!0)},p(k,[C]){b===(b=g(k))&&m?m.p(k,C):(m.d(1),m=b(k),m&&(m.c(),m.m(i,null)))},i:P,o:P,d(k){k&&z(e),m.d(),a=!1,ae(p)}}}function ve(l){l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="copy")}function we(l,e,t){let i,r=pe({mission:null});re(l,r,c=>t(0,i=c));function n(){i.post("/hub/missions")}function s(c){c.preventDefault(),c.stopPropagation(),ee(r,i.mission=c.dataTransfer.files[0],i),n()}return[i,r,n,s,c=>ee(r,i.mission=c.target.files[0],i)]}class ye extends G{constructor(e){super(),J(this,e,we,ke,K,{})}}function te(l,e,t){const i=l.slice();return i[7]=e[t],i}function Re(l){let e;return{c(){e=V("path"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"d","M4.5 15.75l7.5-7.5 7.5 7.5")},m(t,i){T(t,e,i)},d(t){t&&z(e)}}}function Ce(l){let e;return{c(){e=V("path"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"d","M19.5 8.25l-7.5 7.5-7.5-7.5")},m(t,i){T(t,e,i)},d(t){t&&z(e)}}}function le(l){let e,t;return e=new ye({}),{c(){E(e.$$.fragment)},m(i,r){H(e,i,r),t=!0},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){L(e,i)}}}function ie(l){let e,t;return e=new de({props:{shouldRedirect:l[4],mission:l[7]}}),e.$on("cardClicked",l[6]),{c(){E(e.$$.fragment)},m(i,r){H(e,i,r),t=!0},p(i,r){const n={};r&16&&(n.shouldRedirect=i[4]),r&4&&(n.mission=i[7]),e.$set(n)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){L(e,i)}}}function je(l){let e,t,i,r,n,s,u,c,h,a,p,g,b;function m(_,o){return _[0]?Ce:Re}let k=m(l),C=k(l),R=l[3]&&le(),v=l[2],j=[];for(let _=0;_<v.length;_+=1)j[_]=ie(te(l,v,_));const w=_=>D(j[_],1,1,()=>{j[_]=null});return{c(){e=B("div"),t=B("button"),i=B("h3"),r=Z(l[1]),n=O(),s=V("svg"),C.c(),u=O(),c=B("div"),R&&R.c(),h=O();for(let _=0;_<j.length;_+=1)j[_].c();d(i,"class","my-2 text-center text-xl font-bold uppercase leading-tight"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(s,"fill","none"),d(s,"viewBox","0 0 24 24"),d(s,"stroke-width","2.5"),d(s,"stroke","currentColor"),d(s,"class","ml-1 mt-2.5 h-6 w-6"),d(t,"class","flex justify-center text-blue-600"),d(c,"class",a=(l[0]?"":"hidden")+" col-span-full grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"),d(e,"class","grid grid-cols-1 gap-3 pt-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6")},m(_,o){T(_,e,o),y(e,t),y(t,i),y(i,r),y(t,n),y(t,s),C.m(s,null),y(e,u),y(e,c),R&&R.m(c,null),y(c,h);for(let f=0;f<j.length;f+=1)j[f].m(c,null);p=!0,g||(b=q(t,"click",l[5]),g=!0)},p(_,[o]){if((!p||o&2)&&$(r,_[1]),k!==(k=m(_))&&(C.d(1),C=k(_),C&&(C.c(),C.m(s,null))),_[3]?R?o&8&&M(R,1):(R=le(),R.c(),M(R,1),R.m(c,h)):R&&(U(),D(R,1,1,()=>{R=null}),A()),o&20){v=_[2];let f;for(f=0;f<v.length;f+=1){const S=te(_,v,f);j[f]?(j[f].p(S,o),M(j[f],1)):(j[f]=ie(S),j[f].c(),M(j[f],1),j[f].m(c,null))}for(U(),f=v.length;f<j.length;f+=1)w(f);A()}(!p||o&1&&a!==(a=(_[0]?"":"hidden")+" col-span-full grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"))&&d(c,"class",a)},i(_){if(!p){M(R);for(let o=0;o<v.length;o+=1)M(j[o]);p=!0}},o(_){D(R),j=j.filter(Boolean);for(let o=0;o<j.length;o+=1)D(j[o]);p=!1},d(_){_&&z(e),C.d(),R&&R.d(),ce(j,_),g=!1,b()}}}function Me(l,e,t){let{title:i}=e,{missions:r}=e,{uploadCard:n=!1}=e,{open:s=!0}=e,{shouldRedirect:u}=e;const c=a=>t(0,s=!s);function h(a){ue.call(this,l,a)}return l.$$set=a=>{"title"in a&&t(1,i=a.title),"missions"in a&&t(2,r=a.missions),"uploadCard"in a&&t(3,n=a.uploadCard),"open"in a&&t(0,s=a.open),"shouldRedirect"in a&&t(4,u=a.shouldRedirect)},[s,i,r,n,u,c,h]}class Y extends G{constructor(e){super(),J(this,e,Me,je,K,{title:1,missions:2,uploadCard:3,open:0,shouldRedirect:4})}}function ne(l,e,t){const i=l.slice();return i[11]=e[t][0],i[12]=e[t][1],i}function Be(l){let e;return{c(){e=V("path"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"d","M13.5 10.5V6.75a4.5 4.5 0 119 0v3.75M3.75 21.75h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H3.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z")},m(t,i){T(t,e,i)},d(t){t&&z(e)}}}function De(l){let e;return{c(){e=V("path"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"d","M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z")},m(t,i){T(t,e,i)},d(t){t&&z(e)}}}function Se(l){let e,t,i;function r(){return l[9](l[11])}return{c(){e=B("div"),d(e,"class","h-60 min-w-0 flex-grow space-y-1 rounded-lg bg-gray-800 p-3 shadow-md hover:bg-gray-700")},m(n,s){T(n,e,s),t||(i=q(e,"click",r),t=!0)},p(n,s){l=n},i:P,o:P,d(n){n&&z(e),t=!1,i()}}}function Te(l){let e,t;function i(){return l[8](l[11])}return e=new de({props:{mission:l[12],shouldRedirect:l[4]}}),e.$on("cardClicked",i),{c(){E(e.$$.fragment)},m(r,n){H(e,r,n),t=!0},p(r,n){l=r;const s={};n&32&&(s.mission=l[12]),n&16&&(s.shouldRedirect=l[4]),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){D(e.$$.fragment,r),t=!1},d(r){L(e,r)}}}function oe(l){let e,t,i,r,n,s;const u=[Te,Se],c=[];function h(a,p){return a[12]?0:1}return t=h(l),i=c[t]=u[t](l),{c(){e=B("div"),i.c(),r=O(),d(e,"class",n="flex "+(l[4]?"":"rounded-lg border-4 border-dashed")+" "+(l[0]&&l[0].play_order==l[11]&&l[0].operation_id==l[2].id?"border-rose-400":"border-gray-400"))},m(a,p){T(a,e,p),c[t].m(e,null),y(e,r),s=!0},p(a,p){let g=t;t=h(a),t===g?c[t].p(a,p):(U(),D(c[g],1,1,()=>{c[g]=null}),A(),i=c[t],i?i.p(a,p):(i=c[t]=u[t](a),i.c()),M(i,1),i.m(e,r)),(!s||p&53&&n!==(n="flex "+(a[4]?"":"rounded-lg border-4 border-dashed")+" "+(a[0]&&a[0].play_order==a[11]&&a[0].operation_id==a[2].id?"border-rose-400":"border-gray-400")))&&d(e,"class",n)},i(a){s||(M(i),s=!0)},o(a){D(i),s=!1},d(a){a&&z(e),c[t].d()}}}function ze(l){let e,t,i,r,n,s,u,c,h,a,p,g,b;function m(w,_){return w[4]?De:Be}let k=m(l),C=k(l),R=Object.entries(l[5]),v=[];for(let w=0;w<R.length;w+=1)v[w]=oe(ne(l,R,w));const j=w=>D(v[w],1,1,()=>{v[w]=null});return{c(){e=B("div"),t=B("div"),i=B("h3"),r=Z(l[1]),n=O(),s=B("button"),u=V("svg"),C.c(),c=O(),h=B("div");for(let w=0;w<v.length;w+=1)v[w].c();d(i,"class","my-2 text-center text-xl font-bold uppercase leading-tight text-blue-600"),d(u,"xmlns","http://www.w3.org/2000/svg"),d(u,"fill","none"),d(u,"viewBox","0 0 24 24"),d(u,"stroke-width","2.5"),d(u,"stroke","currentColor"),d(u,"class","h-5 w-5"),d(s,"class","pl-1 text-blue-600"),d(t,"class","flex justify-center"),d(h,"class",a=(l[3]?"":"hidden")+" col-span-full grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-3"),d(e,"class","grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-3")},m(w,_){T(w,e,_),y(e,t),y(t,i),y(i,r),y(t,n),y(t,s),y(s,u),C.m(u,null),y(e,c),y(e,h);for(let o=0;o<v.length;o+=1)v[o].m(h,null);p=!0,g||(b=q(s,"click",l[7]),g=!0)},p(w,[_]){if((!p||_&2)&&$(r,w[1]),k!==(k=m(w))&&(C.d(1),C=k(w),C&&(C.c(),C.m(u,null))),_&117){R=Object.entries(w[5]);let o;for(o=0;o<R.length;o+=1){const f=ne(w,R,o);v[o]?(v[o].p(f,_),M(v[o],1)):(v[o]=oe(f),v[o].c(),M(v[o],1),v[o].m(h,null))}for(U(),o=R.length;o<v.length;o+=1)j(o);A()}(!p||_&8&&a!==(a=(w[3]?"":"hidden")+" col-span-full grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-3"))&&d(h,"class",a)},i(w){if(!p){for(let _=0;_<R.length;_+=1)M(v[_]);p=!0}},o(w){v=v.filter(Boolean);for(let _=0;_<v.length;_+=1)D(v[_]);p=!1},d(w){w&&z(e),C.d(),ce(v,w),g=!1,b()}}}function Oe(l,e,t){let i,{title:r}=e,{operation:n}=e,{open:s=!0}=e,{selecting:u}=e,c=!0;const h=fe();function a(m){u&&u.play_order==m&&u.operation_id==n.id?t(0,u=null):t(0,u={play_order:m,operation_id:n.id}),h("selecting",{})}const p=()=>t(4,c=!c),g=m=>a(m),b=m=>a(m);return l.$$set=m=>{"title"in m&&t(1,r=m.title),"operation"in m&&t(2,n=m.operation),"open"in m&&t(3,s=m.open),"selecting"in m&&t(0,u=m.selecting)},l.$$.update=()=>{l.$$.dirty&4&&n.missions.forEach(m=>{t(5,i[m.play_order]=m.mission,i)})},t(5,i={1:null,2:null,3:null}),[u,r,n,s,c,i,a,p,g,b]}class se extends G{constructor(e){super(),J(this,e,Oe,ze,K,{title:1,operation:2,open:3,selecting:0})}}function Ee(l){let e,t,i;function r(s){l[15](s)}let n={title:"Next operation",missions:l[8]};return l[4]!==void 0&&(n.shouldRedirect=l[4]),e=new Y({props:n}),F.push(()=>I(e,"shouldRedirect",r)),e.$on("cardClicked",l[10]),{c(){E(e.$$.fragment)},m(s,u){H(e,s,u),i=!0},p(s,u){const c={};u&256&&(c.missions=s[8]),!t&&u&16&&(t=!0,c.shouldRedirect=s[4],N(()=>t=!1)),e.$set(c)},i(s){i||(M(e.$$.fragment,s),i=!0)},o(s){D(e.$$.fragment,s),i=!1},d(s){L(e,s)}}}function He(l){let e,t,i,r,n,s,u;function c(g){l[13](g)}let h={title:"This week",operation:l[0]};l[3]!==void 0&&(h.selecting=l[3]),t=new se({props:h}),F.push(()=>I(t,"selecting",c)),t.$on("selecting",l[9]);function a(g){l[14](g)}let p={title:"Next week",operation:l[1]};return l[3]!==void 0&&(p.selecting=l[3]),n=new se({props:p}),F.push(()=>I(n,"selecting",a)),n.$on("selecting",l[9]),{c(){e=B("div"),E(t.$$.fragment),r=O(),E(n.$$.fragment),d(e,"class","grid grid-cols-1 gap-3 sm:grid-cols-1 2xl:grid-cols-2")},m(g,b){T(g,e,b),H(t,e,null),y(e,r),H(n,e,null),u=!0},p(g,b){const m={};b&1&&(m.operation=g[0]),!i&&b&8&&(i=!0,m.selecting=g[3],N(()=>i=!1)),t.$set(m);const k={};b&2&&(k.operation=g[1]),!s&&b&8&&(s=!0,k.selecting=g[3],N(()=>s=!1)),n.$set(k)},i(g){u||(M(t.$$.fragment,g),M(n.$$.fragment,g),u=!0)},o(g){D(t.$$.fragment,g),D(n.$$.fragment,g),u=!1},d(g){g&&z(e),L(t),L(n)}}}function Le(l){let e,t,i,r,n,s,u,c,h,a,p,g,b;const m=[He,Ee],k=[];function C(f,S){return f[2].manage_operations?0:1}t=C(l),i=k[t]=m[t](l);function R(f){l[16](f)}let v={title:"My missions",missions:l[7],uploadCard:!0};l[4]!==void 0&&(v.shouldRedirect=l[4]),n=new Y({props:v}),F.push(()=>I(n,"shouldRedirect",R)),n.$on("cardClicked",l[10]);function j(f){l[17](f)}let w={title:"Unplayed missions",missions:l[6]};l[4]!==void 0&&(w.shouldRedirect=l[4]),c=new Y({props:w}),F.push(()=>I(c,"shouldRedirect",j)),c.$on("cardClicked",l[10]);function _(f){l[18](f)}let o={title:"Played missions",missions:l[5]};return l[4]!==void 0&&(o.shouldRedirect=l[4]),p=new Y({props:o}),F.push(()=>I(p,"shouldRedirect",_)),p.$on("cardClicked",l[10]),{c(){e=B("div"),i.c(),r=O(),E(n.$$.fragment),u=O(),E(c.$$.fragment),a=O(),E(p.$$.fragment)},m(f,S){T(f,e,S),k[t].m(e,null),y(e,r),H(n,e,null),y(e,u),H(c,e,null),y(e,a),H(p,e,null),b=!0},p(f,[S]){let Q=t;t=C(f),t===Q?k[t].p(f,S):(U(),D(k[Q],1,1,()=>{k[Q]=null}),A(),i=k[t],i?i.p(f,S):(i=k[t]=m[t](f),i.c()),M(i,1),i.m(e,r));const W={};S&128&&(W.missions=f[7]),!s&&S&16&&(s=!0,W.shouldRedirect=f[4],N(()=>s=!1)),n.$set(W);const X={};S&64&&(X.missions=f[6]),!h&&S&16&&(h=!0,X.shouldRedirect=f[4],N(()=>h=!1)),c.$set(X);const x={};S&32&&(x.missions=f[5]),!g&&S&16&&(g=!0,x.shouldRedirect=f[4],N(()=>g=!1)),p.$set(x)},i(f){b||(M(i),M(n.$$.fragment,f),M(c.$$.fragment,f),M(p.$$.fragment,f),b=!0)},o(f){D(i),D(n.$$.fragment,f),D(c.$$.fragment,f),D(p.$$.fragment,f),b=!1},d(f){f&&z(e),k[t].d(),L(n),L(c),L(p)}}}const Pe=me;function Ve(l,e,t){let i,r,n,s,u;re(l,ge,o=>t(12,u=o));let{missions:c}=e,{next_operation:h}=e,{next_2_operation:a}=e,{can:p}=e,g=null,b=!0;function m(o){t(4,b=!g)}function k(o){_e.Inertia.put(`/hub/operations/${g.operation_id}`,{play_order:g.play_order,mission_id:o.detail.mission_id},{preserveScroll:!0}),t(3,g=null),t(4,b=!0)}function C(o){g=o,t(3,g)}function R(o){g=o,t(3,g)}function v(o){b=o,t(4,b)}function j(o){b=o,t(4,b)}function w(o){b=o,t(4,b)}function _(o){b=o,t(4,b)}return l.$$set=o=>{"missions"in o&&t(11,c=o.missions),"next_operation"in o&&t(0,h=o.next_operation),"next_2_operation"in o&&t(1,a=o.next_2_operation),"can"in o&&t(2,p=o.can)},l.$$.update=()=>{l.$$.dirty&1&&t(8,i=h.missions.map(o=>o.mission)),l.$$.dirty&6144&&t(7,r=c.filter(o=>o.user.id==u.props.auth.user.id)),l.$$.dirty&2052&&t(6,n=c.filter(o=>!o.last_played&&(o.verified_by||p.test_missions))),l.$$.dirty&2052&&t(5,s=c.filter(o=>o.last_played&&(o.verified_by||p.test_missions)))},[h,a,p,g,b,s,n,r,i,m,k,c,u,C,R,v,j,w,_]}class Ue extends G{constructor(e){super(),J(this,e,Ve,Le,K,{missions:11,next_operation:0,next_2_operation:1,can:2})}}export{Ue as default,Pe as layout};
