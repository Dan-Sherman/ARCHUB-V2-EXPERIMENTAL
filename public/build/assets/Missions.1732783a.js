import{I as L,K as W,L as X,S as F,i as P,s as z,c as B,m as M,t as k,k as w,p as O,e as S,b as E,v as I,d,u as Y,f as j,g as h,J as q,n as C,a as A,l as K,w as D,M as Z,q as ee,N as te,h as H,j as J,o as N}from"./main.5814b234.js";import se from"./Layout.812debc0.js";import{I as re}from"./InertiaLink.cd97c2f8.js";function le(...o){const e=typeof o[0]=="string"?o[0]:null,l=(typeof o[0]=="string"?o[1]:o[0])||{},t=e?L.Inertia.restore(e):null;let s=l,n=null,b=null,$=r=>r;const v=W({...t?t.data:l,isDirty:!1,errors:t?t.errors:{},hasErrors:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,processing:!1,setStore(r,a){v.update(c=>Object.assign({},c,typeof r=="string"?{[r]:a}:r))},data(){return Object.keys(l).reduce((r,a)=>(r[a]=this[a],r),{})},transform(r){return $=r,this},defaults(r,a){return typeof r>"u"?(s=Object.assign(s,this.data()),this):(s=Object.assign(s,a?{[r]:a}:r),this)},reset(...r){return r.length===0?this.setStore(s):this.setStore(Object.keys(s).filter(a=>r.includes(a)).reduce((a,c)=>(a[c]=s[c],a),{})),this},setError(r,a){return this.setStore("errors",{...this.errors,...a?{[r]:a}:r}),this},clearErrors(...r){return this.setStore("errors",Object.keys(this.errors).reduce((a,c)=>({...a,...r.length>0&&!r.includes(c)?{[c]:this.errors[c]}:{}}),{})),this},submit(r,a,c={}){const y=$(this.data()),f={...c,onCancelToken:g=>{if(n=g,c.onCancelToken)return c.onCancelToken(g)},onBefore:g=>{if(this.setStore("wasSuccessful",!1),this.setStore("recentlySuccessful",!1),clearTimeout(b),c.onBefore)return c.onBefore(g)},onStart:g=>{if(this.setStore("processing",!0),c.onStart)return c.onStart(g)},onProgress:g=>{if(this.setStore("progress",g),c.onProgress)return c.onProgress(g)},onSuccess:async g=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors(),this.setStore("wasSuccessful",!0),this.setStore("recentlySuccessful",!0),b=setTimeout(()=>this.setStore("recentlySuccessful",!1),2e3),c.onSuccess)return c.onSuccess(g)},onError:g=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors().setError(g),c.onError)return c.onError(g)},onCancel:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),c.onCancel)return c.onCancel()},onFinish:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),n=null,c.onFinish)return c.onFinish()}};r==="delete"?L.Inertia.delete(a,{...f,data:y}):L.Inertia[r](a,y,f)},get(r,a){this.submit("get",r,a)},post(r,a){this.submit("post",r,a)},put(r,a){this.submit("put",r,a)},patch(r,a){this.submit("patch",r,a)},delete(r,a){this.submit("delete",r,a)},cancel(){n&&n.cancel()}});return v.subscribe(r=>{r.isDirty===X(r.data(),s)&&r.setStore("isDirty",!r.isDirty);const a=Object.keys(r.errors).length>0;r.hasErrors!==a&&r.setStore("hasErrors",!r.hasErrors),e&&L.Inertia.remember({data:r.data(),errors:r.errors},e)}),v}function ne(o){let e,l,t,s,n,b=o[0].display_name+"",$,v,r,a,c=o[0].user.username+"",y,f,g,p=o[0].summary+"",m;return{c(){e=S("img"),t=E(),s=S("div"),n=S("h5"),$=I(b),v=E(),r=S("p"),a=I("By "),y=I(c),f=E(),g=S("p"),m=I(p),d(e,"class","h-[50%] rounded-lg"),Y(e.src,l="/images/arcomm-placeholder.jpg")||d(e,"src",l),d(e,"alt",""),d(n,"class","truncate text-md font-semibold text-white tracking-tight"),d(r,"class","truncate text-xs font-normal text-gray-400"),d(g,"class","pb-3 truncate text-xs font-normal text-gray-400"),d(s,"class","pt-5")},m(x,i){j(x,e,i),j(x,t,i),j(x,s,i),h(s,n),h(n,$),h(s,v),h(s,r),h(r,a),h(r,y),h(s,f),h(s,g),h(g,m)},p(x,i){i&1&&b!==(b=x[0].display_name+"")&&q($,b),i&1&&c!==(c=x[0].user.username+"")&&q(y,c),i&1&&p!==(p=x[0].summary+"")&&q(m,p)},d(x){x&&C(e),x&&C(t),x&&C(s)}}}function ie(o){let e,l;return e=new re({props:{href:"/hub/missions/"+o[0].id,class:"h-52 p-3 rounded-lg border border-gray-700 shadow-md bg-gray-800",$$slots:{default:[ne]},$$scope:{ctx:o}}}),{c(){B(e.$$.fragment)},m(t,s){M(e,t,s),l=!0},p(t,[s]){const n={};s&1&&(n.href="/hub/missions/"+t[0].id),s&3&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function oe(o,e,l){let{mission:t}=e;return o.$$set=s=>{"mission"in s&&l(0,t=s.mission)},[t]}class V extends F{constructor(e){super(),P(this,e,oe,ie,z,{mission:0})}}function ae(o){let e,l=o[0].progress.percentage+"",t,s,n;return{c(){e=S("progress"),t=I(l),s=I("%"),d(e,"class","mb-3"),e.value=n=o[0].progress.percentage,d(e,"max","100")},m(b,$){j(b,e,$),h(e,t),h(e,s)},p(b,$){$&1&&l!==(l=b[0].progress.percentage+"")&&q(t,l),$&1&&n!==(n=b[0].progress.percentage)&&(e.value=n)},d(b){b&&C(e)}}}function ce(o){let e;return{c(){e=S("p"),e.innerHTML='<span class="font-semibold">Click to upload</span> or drag and drop',d(e,"class","mb-2 text-sm text-gray-500 dark:text-gray-400")},m(l,t){j(l,e,t)},p:D,d(l){l&&C(e)}}}function ue(o){let e,l,t,s,n,b,$,v,r,a,c;function y(p,m){return p[0].progress?ae:ce}let f=y(o),g=f(o);return{c(){e=S("div"),l=S("label"),t=S("div"),s=A("svg"),n=A("path"),b=E(),g.c(),$=E(),v=S("form"),r=S("input"),d(n,"stroke-linecap","round"),d(n,"stroke-linejoin","round"),d(n,"stroke-width","2"),d(n,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),d(s,"aria-hidden","true"),d(s,"class","mb-3 w-10 h-10 text-gray-400"),d(s,"fill","none"),d(s,"stroke","currentColor"),d(s,"viewBox","0 0 24 24"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(t,"class","flex flex-col justify-center items-center pt-5 pb-6"),d(r,"id","dropzone-file"),d(r,"type","file"),d(r,"class","hidden"),d(l,"for","dropzone-file"),d(l,"class","flex flex-col justify-center items-center w-full h-52 bg-gray-50 rounded-lg border-2 border-gray-300 border-dashed cursor-pointer dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"),d(e,"class","flex justify-center items-center w-full")},m(p,m){j(p,e,m),h(e,l),h(l,t),h(t,s),h(s,n),h(t,b),g.m(t,null),h(l,$),h(l,v),h(v,r),a||(c=[K(r,"input",o[3]),K(r,"change",o[2])],a=!0)},p(p,[m]){f===(f=y(p))&&g?g.p(p,m):(g.d(1),g=f(p),g&&(g.c(),g.m(t,null)))},i:D,o:D,d(p){p&&C(e),g.d(),a=!1,Z(c)}}}function fe(o,e,l){let t,s=le({mission:null});ee(o,s,$=>l(0,t=$));function n(){t.post("/hub/missions")}return[t,s,n,$=>te(s,t.mission=$.target.files[0],t)]}class ge extends F{constructor(e){super(),P(this,e,fe,ue,z,{})}}function U(o,e,l){const t=o.slice();return t[2]=e[l],t}function G(o,e,l){const t=o.slice();return t[2]=e[l],t}function Q(o){let e,l;return e=new V({props:{mission:o[2]}}),{c(){B(e.$$.fragment)},m(t,s){M(e,t,s),l=!0},p(t,s){const n={};s&2&&(n.mission=t[2]),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function R(o){let e,l;return e=new V({props:{mission:o[2]}}),{c(){B(e.$$.fragment)},m(t,s){M(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.mission=t[2]),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function de(o){let e,l,t,s,n,b,$,v,r,a,c;n=new ge({});let y=o[1],f=[];for(let i=0;i<y.length;i+=1)f[i]=Q(G(o,y,i));const g=i=>w(f[i],1,1,()=>{f[i]=null});let p=o[0],m=[];for(let i=0;i<p.length;i+=1)m[i]=R(U(o,p,i));const x=i=>w(m[i],1,1,()=>{m[i]=null});return{c(){e=S("div"),l=S("h3"),l.textContent="My missions",t=E(),s=S("div"),B(n.$$.fragment),b=E();for(let i=0;i<f.length;i+=1)f[i].c();$=E(),v=S("h3"),v.textContent="All missions",r=E(),a=S("div");for(let i=0;i<m.length;i+=1)m[i].c();d(l,"class","uppercase text-center font-bold leading-tight text-2xl mb-2 text-blue-600"),d(s,"class","col-span-full grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"),d(v,"class","uppercase text-center font-bold leading-tight text-2xl my-2 text-blue-600"),d(a,"class","col-span-full grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"),d(e,"class","grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6")},m(i,_){j(i,e,_),h(e,l),h(e,t),h(e,s),M(n,s,null),h(s,b);for(let u=0;u<f.length;u+=1)f[u].m(s,null);h(e,$),h(e,v),h(e,r),h(e,a);for(let u=0;u<m.length;u+=1)m[u].m(a,null);c=!0},p(i,_){if(_&2){y=i[1];let u;for(u=0;u<y.length;u+=1){const T=G(i,y,u);f[u]?(f[u].p(T,_),k(f[u],1)):(f[u]=Q(T),f[u].c(),k(f[u],1),f[u].m(s,null))}for(H(),u=y.length;u<f.length;u+=1)g(u);J()}if(_&1){p=i[0];let u;for(u=0;u<p.length;u+=1){const T=U(i,p,u);m[u]?(m[u].p(T,_),k(m[u],1)):(m[u]=R(T),m[u].c(),k(m[u],1),m[u].m(a,null))}for(H(),u=p.length;u<m.length;u+=1)x(u);J()}},i(i){if(!c){k(n.$$.fragment,i);for(let _=0;_<y.length;_+=1)k(f[_]);for(let _=0;_<p.length;_+=1)k(m[_]);c=!0}},o(i){w(n.$$.fragment,i),f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)w(f[_]);m=m.filter(Boolean);for(let _=0;_<m.length;_+=1)w(m[_]);c=!1},d(i){i&&C(e),O(n),N(f,i),N(m,i)}}}function me(o){let e,l;return e=new se({props:{$$slots:{default:[de]},$$scope:{ctx:o}}}),{c(){B(e.$$.fragment)},m(t,s){M(e,t,s),l=!0},p(t,[s]){const n={};s&131&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function he(o,e,l){let{missions:t}=e,{my_missions:s}=e;return o.$$set=n=>{"missions"in n&&l(0,t=n.missions),"my_missions"in n&&l(1,s=n.my_missions)},[t,s]}class $e extends F{constructor(e){super(),P(this,e,he,me,z,{missions:0,my_missions:1})}}export{$e as default};
