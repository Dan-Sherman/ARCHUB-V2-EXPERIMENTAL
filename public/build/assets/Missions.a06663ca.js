import{I as C,K as A,L as H,S as L,i as q,s as D,c as T,m as O,t as v,k as E,p as B,e as p,b as j,w as x,d,u as J,f as k,g as m,J as I,n as w,a as F,l as P,v as M,M as N,q as U,N as G,h as Q,j as R,o as V}from"./main.0fda26bc.js";import W from"./Layout.c0f2f6c9.js";import{I as X}from"./InertiaLink.16222afc.js";function Y(...a){const e=typeof a[0]=="string"?a[0]:null,l=(typeof a[0]=="string"?a[1]:a[0])||{},s=e?C.Inertia.restore(e):null;let r=l,o=null,i=null,g=t=>t;const u=A({...s?s.data:l,isDirty:!1,errors:s?s.errors:{},hasErrors:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,processing:!1,setStore(t,n){u.update(c=>Object.assign({},c,typeof t=="string"?{[t]:n}:t))},data(){return Object.keys(l).reduce((t,n)=>(t[n]=this[n],t),{})},transform(t){return g=t,this},defaults(t,n){return typeof t>"u"?(r=Object.assign(r,this.data()),this):(r=Object.assign(r,n?{[t]:n}:t),this)},reset(...t){return t.length===0?this.setStore(r):this.setStore(Object.keys(r).filter(n=>t.includes(n)).reduce((n,c)=>(n[c]=r[c],n),{})),this},setError(t,n){return this.setStore("errors",{...this.errors,...n?{[t]:n}:t}),this},clearErrors(...t){return this.setStore("errors",Object.keys(this.errors).reduce((n,c)=>({...n,...t.length>0&&!t.includes(c)?{[c]:this.errors[c]}:{}}),{})),this},submit(t,n,c={}){const $=g(this.data()),b={...c,onCancelToken:f=>{if(o=f,c.onCancelToken)return c.onCancelToken(f)},onBefore:f=>{if(this.setStore("wasSuccessful",!1),this.setStore("recentlySuccessful",!1),clearTimeout(i),c.onBefore)return c.onBefore(f)},onStart:f=>{if(this.setStore("processing",!0),c.onStart)return c.onStart(f)},onProgress:f=>{if(this.setStore("progress",f),c.onProgress)return c.onProgress(f)},onSuccess:async f=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors(),this.setStore("wasSuccessful",!0),this.setStore("recentlySuccessful",!0),i=setTimeout(()=>this.setStore("recentlySuccessful",!1),2e3),c.onSuccess)return c.onSuccess(f)},onError:f=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors().setError(f),c.onError)return c.onError(f)},onCancel:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),c.onCancel)return c.onCancel()},onFinish:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),o=null,c.onFinish)return c.onFinish()}};t==="delete"?C.Inertia.delete(n,{...b,data:$}):C.Inertia[t](n,$,b)},get(t,n){this.submit("get",t,n)},post(t,n){this.submit("post",t,n)},put(t,n){this.submit("put",t,n)},patch(t,n){this.submit("patch",t,n)},delete(t,n){this.submit("delete",t,n)},cancel(){o&&o.cancel()}});return u.subscribe(t=>{t.isDirty===H(t.data(),r)&&t.setStore("isDirty",!t.isDirty);const n=Object.keys(t.errors).length>0;t.hasErrors!==n&&t.setStore("hasErrors",!t.hasErrors),e&&C.Inertia.remember({data:t.data(),errors:t.errors},e)}),u}function Z(a){let e,l,s,r,o,i=a[0].display_name+"",g,u,t,n,c=a[0].user.username+"",$,b,f,h=a[0].summary+"",S;return{c(){e=p("img"),s=j(),r=p("div"),o=p("h5"),g=x(i),u=j(),t=p("p"),n=x("By "),$=x(c),b=j(),f=p("p"),S=x(h),d(e,"class","h-[50%] rounded-lg"),J(e.src,l="/images/arcomm-placeholder.jpg")||d(e,"src",l),d(e,"alt",""),d(o,"class","truncate text-md font-semibold text-white tracking-tight"),d(t,"class","truncate text-xs font-normal text-gray-400"),d(f,"class","pb-3 truncate text-xs font-normal text-gray-400"),d(r,"class","pt-5")},m(_,y){k(_,e,y),k(_,s,y),k(_,r,y),m(r,o),m(o,g),m(r,u),m(r,t),m(t,n),m(t,$),m(r,b),m(r,f),m(f,S)},p(_,y){y&1&&i!==(i=_[0].display_name+"")&&I(g,i),y&1&&c!==(c=_[0].user.username+"")&&I($,c),y&1&&h!==(h=_[0].summary+"")&&I(S,h)},d(_){_&&w(e),_&&w(s),_&&w(r)}}}function ee(a){let e,l;return e=new X({props:{href:"/hub/missions/"+a[0].id,class:"h-52 p-3 rounded-lg border border-gray-700 shadow-md bg-gray-800",$$slots:{default:[Z]},$$scope:{ctx:a}}}),{c(){T(e.$$.fragment)},m(s,r){O(e,s,r),l=!0},p(s,[r]){const o={};r&1&&(o.href="/hub/missions/"+s[0].id),r&3&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){B(e,s)}}}function te(a,e,l){let{mission:s}=e;return a.$$set=r=>{"mission"in r&&l(0,s=r.mission)},[s]}class se extends L{constructor(e){super(),q(this,e,te,ee,D,{mission:0})}}function re(a){let e,l=a[0].progress.percentage+"",s,r,o;return{c(){e=p("progress"),s=x(l),r=x("%"),d(e,"class","mb-3"),e.value=o=a[0].progress.percentage,d(e,"max","100")},m(i,g){k(i,e,g),m(e,s),m(e,r)},p(i,g){g&1&&l!==(l=i[0].progress.percentage+"")&&I(s,l),g&1&&o!==(o=i[0].progress.percentage)&&(e.value=o)},d(i){i&&w(e)}}}function ne(a){let e;return{c(){e=p("p"),e.innerHTML='<span class="font-semibold">Click to upload</span> or drag and drop',d(e,"class","mb-2 text-sm text-gray-500 dark:text-gray-400")},m(l,s){k(l,e,s)},p:M,d(l){l&&w(e)}}}function le(a){let e,l,s,r,o,i,g,u,t,n,c;function $(h,S){return h[0].progress?re:ne}let b=$(a),f=b(a);return{c(){e=p("div"),l=p("label"),s=p("div"),r=F("svg"),o=F("path"),i=j(),f.c(),g=j(),u=p("form"),t=p("input"),d(o,"stroke-linecap","round"),d(o,"stroke-linejoin","round"),d(o,"stroke-width","2"),d(o,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),d(r,"aria-hidden","true"),d(r,"class","mb-3 w-10 h-10 text-gray-400"),d(r,"fill","none"),d(r,"stroke","currentColor"),d(r,"viewBox","0 0 24 24"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(s,"class","flex flex-col justify-center items-center pt-5 pb-6"),d(t,"id","dropzone-file"),d(t,"type","file"),d(t,"class","hidden"),d(l,"for","dropzone-file"),d(l,"class","flex flex-col justify-center items-center w-full h-52 bg-gray-50 rounded-lg border-2 border-gray-300 border-dashed cursor-pointer dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"),d(e,"class","flex justify-center items-center w-full")},m(h,S){k(h,e,S),m(e,l),m(l,s),m(s,r),m(r,o),m(s,i),f.m(s,null),m(l,g),m(l,u),m(u,t),n||(c=[P(t,"input",a[3]),P(t,"change",a[2])],n=!0)},p(h,[S]){b===(b=$(h))&&f?f.p(h,S):(f.d(1),f=b(h),f&&(f.c(),f.m(s,null)))},i:M,o:M,d(h){h&&w(e),f.d(),n=!1,N(c)}}}function oe(a,e,l){let s,r=Y({mission:null});U(a,r,g=>l(0,s=g));function o(){s.post("/hub/missions")}return[s,r,o,g=>G(r,s.mission=g.target.files[0],s)]}class ie extends L{constructor(e){super(),q(this,e,oe,le,D,{})}}function z(a,e,l){const s=a.slice();return s[1]=e[l],s}function K(a){let e,l;return e=new se({props:{mission:a[1]}}),{c(){T(e.$$.fragment)},m(s,r){O(e,s,r),l=!0},p(s,r){const o={};r&1&&(o.mission=s[1]),e.$set(o)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){B(e,s)}}}function ae(a){let e,l,s,r;l=new ie({});let o=a[0],i=[];for(let u=0;u<o.length;u+=1)i[u]=K(z(a,o,u));const g=u=>E(i[u],1,1,()=>{i[u]=null});return{c(){e=p("div"),T(l.$$.fragment),s=j();for(let u=0;u<i.length;u+=1)i[u].c();d(e,"class","grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6")},m(u,t){k(u,e,t),O(l,e,null),m(e,s);for(let n=0;n<i.length;n+=1)i[n].m(e,null);r=!0},p(u,t){if(t&1){o=u[0];let n;for(n=0;n<o.length;n+=1){const c=z(u,o,n);i[n]?(i[n].p(c,t),v(i[n],1)):(i[n]=K(c),i[n].c(),v(i[n],1),i[n].m(e,null))}for(Q(),n=o.length;n<i.length;n+=1)g(n);R()}},i(u){if(!r){v(l.$$.fragment,u);for(let t=0;t<o.length;t+=1)v(i[t]);r=!0}},o(u){E(l.$$.fragment,u),i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)E(i[t]);r=!1},d(u){u&&w(e),B(l),V(i,u)}}}function ce(a){let e,l;return e=new W({props:{$$slots:{default:[ae]},$$scope:{ctx:a}}}),{c(){T(e.$$.fragment)},m(s,r){O(e,s,r),l=!0},p(s,[r]){const o={};r&17&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){B(e,s)}}}function ue(a,e,l){let{missions:s}=e;return a.$$set=r=>{"missions"in r&&l(0,s=r.missions)},[s]}class me extends L{constructor(e){super(),q(this,e,ue,ce,D,{missions:0})}}export{me as default};
