import{I as B,K as W,L as X,S as q,i as P,s as z,c as O,m as L,t as x,k as E,p as D,e as v,b as w,v as I,d as m,f as j,g as h,J as M,n as C,a as A,l as K,w as F,M as Y,q as Z,N as ee,j as H,o as J,h as N}from"./main.2eeb7160.js";import te from"./Layout.825d59b6.js";import{I as se}from"./InertiaLink.e544cf9d.js";function re(...o){const e=typeof o[0]=="string"?o[0]:null,l=(typeof o[0]=="string"?o[1]:o[0])||{},t=e?B.Inertia.restore(e):null;let r=l,i=null,b=null,S=s=>s;const y=W({...t?t.data:l,isDirty:!1,errors:t?t.errors:{},hasErrors:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,processing:!1,setStore(s,n){y.update(c=>Object.assign({},c,typeof s=="string"?{[s]:n}:s))},data(){return Object.keys(l).reduce((s,n)=>(s[n]=this[n],s),{})},transform(s){return S=s,this},defaults(s,n){return typeof s>"u"?(r=Object.assign(r,this.data()),this):(r=Object.assign(r,n?{[s]:n}:s),this)},reset(...s){return s.length===0?this.setStore(r):this.setStore(Object.keys(r).filter(n=>s.includes(n)).reduce((n,c)=>(n[c]=r[c],n),{})),this},setError(s,n){return this.setStore("errors",{...this.errors,...n?{[s]:n}:s}),this},clearErrors(...s){return this.setStore("errors",Object.keys(this.errors).reduce((n,c)=>({...n,...s.length>0&&!s.includes(c)?{[c]:this.errors[c]}:{}}),{})),this},submit(s,n,c={}){const $=S(this.data()),d={...c,onCancelToken:g=>{if(i=g,c.onCancelToken)return c.onCancelToken(g)},onBefore:g=>{if(this.setStore("wasSuccessful",!1),this.setStore("recentlySuccessful",!1),clearTimeout(b),c.onBefore)return c.onBefore(g)},onStart:g=>{if(this.setStore("processing",!0),c.onStart)return c.onStart(g)},onProgress:g=>{if(this.setStore("progress",g),c.onProgress)return c.onProgress(g)},onSuccess:async g=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors(),this.setStore("wasSuccessful",!0),this.setStore("recentlySuccessful",!0),b=setTimeout(()=>this.setStore("recentlySuccessful",!1),2e3),c.onSuccess)return c.onSuccess(g)},onError:g=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors().setError(g),c.onError)return c.onError(g)},onCancel:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),c.onCancel)return c.onCancel()},onFinish:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),i=null,c.onFinish)return c.onFinish()}};s==="delete"?B.Inertia.delete(n,{...d,data:$}):B.Inertia[s](n,$,d)},get(s,n){this.submit("get",s,n)},post(s,n){this.submit("post",s,n)},put(s,n){this.submit("put",s,n)},patch(s,n){this.submit("patch",s,n)},delete(s,n){this.submit("delete",s,n)},cancel(){i&&i.cancel()}});return y.subscribe(s=>{s.isDirty===X(s.data(),r)&&s.setStore("isDirty",!s.isDirty);const n=Object.keys(s.errors).length>0;s.hasErrors!==n&&s.setStore("hasErrors",!s.hasErrors),e&&B.Inertia.remember({data:s.data(),errors:s.errors},e)}),y}function le(o){let e,l,t,r,i=o[0].display_name+"",b,S,y,s,n=o[0].user.username+"",c,$,d,g=o[0].summary+"",_;return{c(){e=v("div"),l=w(),t=v("div"),r=v("h5"),b=I(i),S=w(),y=v("p"),s=I("By "),c=I(n),$=w(),d=v("p"),_=I(g),m(e,"class","h-32 rounded-lg bg-center bg-[url('/images/arcomm-placeholder.jpg')]"),m(r,"class","truncate text-md font-semibold text-rose-500 tracking-tight"),m(y,"class","truncate text-xs font-normal text-gray-100"),m(d,"class","truncate text-xs font-normal text-gray-100"),m(t,"class","space-y-0.5")},m(u,k){j(u,e,k),j(u,l,k),j(u,t,k),h(t,r),h(r,b),h(t,S),h(t,y),h(y,s),h(y,c),h(t,$),h(t,d),h(d,_)},p(u,k){k&1&&i!==(i=u[0].display_name+"")&&M(b,i),k&1&&n!==(n=u[0].user.username+"")&&M(c,n),k&1&&g!==(g=u[0].summary+"")&&M(_,g)},d(u){u&&C(e),u&&C(l),u&&C(t)}}}function ne(o){let e,l;return e=new se({props:{href:"/hub/missions/"+o[0].id,class:"space-y-1 h-60 p-3 rounded-lg shadow-md border-b-8 border-b-rose-500 bg-gray-800 hover:bg-gray-700",$$slots:{default:[le]},$$scope:{ctx:o}}}),{c(){O(e.$$.fragment)},m(t,r){L(e,t,r),l=!0},p(t,[r]){const i={};r&1&&(i.href="/hub/missions/"+t[0].id),r&3&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function ie(o,e,l){let{mission:t}=e;return o.$$set=r=>{"mission"in r&&l(0,t=r.mission)},[t]}class V extends q{constructor(e){super(),P(this,e,ie,ne,z,{mission:0})}}function oe(o){let e,l=o[0].progress.percentage+"",t,r,i;return{c(){e=v("progress"),t=I(l),r=I("%"),m(e,"class","mb-3"),e.value=i=o[0].progress.percentage,m(e,"max","100")},m(b,S){j(b,e,S),h(e,t),h(e,r)},p(b,S){S&1&&l!==(l=b[0].progress.percentage+"")&&M(t,l),S&1&&i!==(i=b[0].progress.percentage)&&(e.value=i)},d(b){b&&C(e)}}}function ae(o){let e;return{c(){e=v("p"),e.innerHTML='<span class="font-semibold">Click to upload</span> or drag and drop',m(e,"class","mb-2 text-sm text-gray-500 dark:text-gray-400")},m(l,t){j(l,e,t)},p:F,d(l){l&&C(e)}}}function ce(o){let e,l,t,r,i,b,S,y,s,n,c;function $(_,u){return _[0].progress?oe:ae}let d=$(o),g=d(o);return{c(){e=v("div"),l=v("label"),t=v("div"),r=A("svg"),i=A("path"),b=w(),g.c(),S=w(),y=v("form"),s=v("input"),m(i,"stroke-linecap","round"),m(i,"stroke-linejoin","round"),m(i,"stroke-width","2"),m(i,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),m(r,"aria-hidden","true"),m(r,"class","mb-3 w-10 h-10 text-gray-400"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"viewBox","0 0 24 24"),m(r,"xmlns","http://www.w3.org/2000/svg"),m(t,"class","flex flex-col justify-center items-center pt-5 pb-6"),m(s,"id","dropzone-file"),m(s,"type","file"),m(s,"class","hidden"),m(l,"for","dropzone-file"),m(l,"class","flex flex-col justify-center items-center w-full h-60 rounded-lg border-2 border-dashed cursor-pointer bg-gray-700 border-gray-600 hover:border-gray-500 hover:bg-gray-600"),m(e,"class","flex justify-center items-center w-full")},m(_,u){j(_,e,u),h(e,l),h(l,t),h(t,r),h(r,i),h(t,b),g.m(t,null),h(l,S),h(l,y),h(y,s),n||(c=[K(s,"input",o[3]),K(s,"change",o[2])],n=!0)},p(_,[u]){d===(d=$(_))&&g?g.p(_,u):(g.d(1),g=d(_),g&&(g.c(),g.m(t,null)))},i:F,o:F,d(_){_&&C(e),g.d(),n=!1,Y(c)}}}function ue(o,e,l){let t,r=re({mission:null});Z(o,r,S=>l(0,t=S));function i(){t.post("/hub/missions")}return[t,r,i,S=>ee(r,t.mission=S.target.files[0],t)]}class fe extends q{constructor(e){super(),P(this,e,ue,ce,z,{})}}function U(o,e,l){const t=o.slice();return t[2]=e[l],t}function G(o,e,l){const t=o.slice();return t[2]=e[l],t}function Q(o){let e,l;return e=new V({props:{mission:o[2]}}),{c(){O(e.$$.fragment)},m(t,r){L(e,t,r),l=!0},p(t,r){const i={};r&2&&(i.mission=t[2]),e.$set(i)},i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function R(o){let e,l;return e=new V({props:{mission:o[2]}}),{c(){O(e.$$.fragment)},m(t,r){L(e,t,r),l=!0},p(t,r){const i={};r&1&&(i.mission=t[2]),e.$set(i)},i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function de(o){let e,l,t,r,i,b,S,y,s,n,c;i=new fe({});let $=o[1],d=[];for(let f=0;f<$.length;f+=1)d[f]=Q(G(o,$,f));const g=f=>E(d[f],1,1,()=>{d[f]=null});let _=o[0],u=[];for(let f=0;f<_.length;f+=1)u[f]=R(U(o,_,f));const k=f=>E(u[f],1,1,()=>{u[f]=null});return{c(){e=v("div"),l=v("h3"),l.textContent="My missions",t=w(),r=v("div"),O(i.$$.fragment),b=w();for(let f=0;f<d.length;f+=1)d[f].c();S=w(),y=v("h3"),y.textContent="All missions",s=w(),n=v("div");for(let f=0;f<u.length;f+=1)u[f].c();m(l,"class","uppercase text-center font-bold leading-tight text-2xl mb-2 text-blue-600"),m(r,"class","col-span-full grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"),m(y,"class","uppercase text-center font-bold leading-tight text-2xl my-2 text-blue-600"),m(n,"class","col-span-full grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"),m(e,"class","grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6")},m(f,p){j(f,e,p),h(e,l),h(e,t),h(e,r),L(i,r,null),h(r,b);for(let a=0;a<d.length;a+=1)d[a].m(r,null);h(e,S),h(e,y),h(e,s),h(e,n);for(let a=0;a<u.length;a+=1)u[a].m(n,null);c=!0},p(f,[p]){if(p&2){$=f[1];let a;for(a=0;a<$.length;a+=1){const T=G(f,$,a);d[a]?(d[a].p(T,p),x(d[a],1)):(d[a]=Q(T),d[a].c(),x(d[a],1),d[a].m(r,null))}for(N(),a=$.length;a<d.length;a+=1)g(a);H()}if(p&1){_=f[0];let a;for(a=0;a<_.length;a+=1){const T=U(f,_,a);u[a]?(u[a].p(T,p),x(u[a],1)):(u[a]=R(T),u[a].c(),x(u[a],1),u[a].m(n,null))}for(N(),a=_.length;a<u.length;a+=1)k(a);H()}},i(f){if(!c){x(i.$$.fragment,f);for(let p=0;p<$.length;p+=1)x(d[p]);for(let p=0;p<_.length;p+=1)x(u[p]);c=!0}},o(f){E(i.$$.fragment,f),d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)E(d[p]);u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)E(u[p]);c=!1},d(f){f&&C(e),D(i),J(d,f),J(u,f)}}}const _e=te;function ge(o,e,l){let{missions:t}=e,{my_missions:r}=e;return o.$$set=i=>{"missions"in i&&l(0,t=i.missions),"my_missions"in i&&l(1,r=i.my_missions)},[t,r]}class be extends q{constructor(e){super(),P(this,e,ge,de,z,{missions:0,my_missions:1})}}export{be as default,_e as layout};
