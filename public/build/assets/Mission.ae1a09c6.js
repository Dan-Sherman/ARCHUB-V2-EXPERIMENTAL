import{S as F,i as K,s as P,e as p,a as ie,b as N,d as u,f as B,g as d,l as E,w as W,n as L,o as G,J as Z,v as O,K as T,L as I,M as U,c as Q,m as z,N as V,t as C,k as J,p as D,u as oe,O as X,P as we,h as ee,j as te,Q as xe,q as ye}from"./main.b185e4da.js";import je from"./Layout.c7192efd.js";import{u as ke}from"./useForm.edfca43c.js";import"./InertiaLink.2f7eaac2.js";function re(l,e,n){const t=l.slice();return t[6]=e[n],t}function ae(l,e,n){const t=l.slice();return t[6]=e[n],t}function ue(l){let e,n=l[6].name+"",t,s,o,i;function g(){return l[4](l[6])}return{c(){e=p("button"),t=O(n),u(e,"class",s=(l[0].name==l[6].name?"border-b-4 border-b-indigo-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white")+" px-3 py-2 rounded-t-md text-md font-medium")},m(r,f){B(r,e,f),d(e,t),o||(i=E(e,"click",g),o=!0)},p(r,f){l=r,f&2&&n!==(n=l[6].name+"")&&T(t,n),f&3&&s!==(s=(l[0].name==l[6].name?"border-b-4 border-b-indigo-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white")+" px-3 py-2 rounded-t-md text-md font-medium")&&u(e,"class",s)},d(r){r&&L(e),o=!1,i()}}}function ce(l){let e,n=l[6].show&&ue(l);return{c(){n&&n.c(),e=Z()},m(t,s){n&&n.m(t,s),B(t,e,s)},p(t,s){t[6].show?n?n.p(t,s):(n=ue(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&L(e)}}}function fe(l){let e,n=l[6].name+"",t,s,o,i;function g(){return l[5](l[6])}return{c(){e=p("button"),t=O(n),u(e,"class",s=(l[0].name==l[6].name?"border-b-4 border-b-indigo-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white")+" block px-3 py-2 rounded-t-md text-md font-medium w-full text-left")},m(r,f){B(r,e,f),d(e,t),o||(i=E(e,"click",g),o=!0)},p(r,f){l=r,f&2&&n!==(n=l[6].name+"")&&T(t,n),f&3&&s!==(s=(l[0].name==l[6].name?"border-b-4 border-b-indigo-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white")+" block px-3 py-2 rounded-t-md text-md font-medium w-full text-left")&&u(e,"class",s)},d(r){r&&L(e),o=!1,i()}}}function Ae(l){let e,n,t,s,o,i,g,r,f,k,v,h,$,M,_,a,S,c,b=l[1],m=[];for(let y=0;y<b.length;y+=1)m[y]=ce(ae(l,b,y));let x=l[1],A=[];for(let y=0;y<x.length;y+=1)A[y]=fe(re(l,x,y));return{c(){e=p("nav"),n=p("div"),t=p("div"),s=p("div"),o=p("button"),i=ie("svg"),g=ie("path"),f=N(),k=p("div"),v=p("div"),h=p("div");for(let y=0;y<m.length;y+=1)m[y].c();$=N(),M=p("div"),_=p("div");for(let y=0;y<A.length;y+=1)A[y].c();u(g,"stroke-linecap","round"),u(g,"stroke-linejoin","round"),u(g,"d",r=l[2]?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"),u(i,"class","block h-6 w-6"),u(i,"xmlns","http://www.w3.org/2000/svg"),u(i,"fill","none"),u(i,"viewBox","0 0 24 24"),u(i,"stroke-width","2"),u(i,"stroke","currentColor"),u(i,"aria-hidden","true"),u(o,"type","button"),u(o,"class","inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"),u(o,"aria-controls","mobile-menu"),u(o,"aria-expanded","false"),u(s,"class","absolute inset-y-0 left-0 flex items-center sm:hidden"),u(h,"class","flex space-x-4"),u(v,"class","hidden sm:block sm:ml-6"),u(k,"class","flex-1 flex items-center justify-center sm:items-stretch sm:justify-start"),u(t,"class","relative flex items-center justify-between h-16"),u(n,"class","px-2 sm:px-6 lg:px-8"),u(_,"class",a=(l[2]?"":"hidden")+" px-2 pt-2 pb-3 space-y-1"),u(M,"class","sm:hidden"),u(M,"id","mobile-menu"),u(e,"class","bg-gray-900 rounded-lg")},m(y,H){B(y,e,H),d(e,n),d(n,t),d(t,s),d(s,o),d(o,i),d(i,g),d(t,f),d(t,k),d(k,v),d(v,h);for(let w=0;w<m.length;w+=1)m[w].m(h,null);d(e,$),d(e,M),d(M,_);for(let w=0;w<A.length;w+=1)A[w].m(_,null);S||(c=E(o,"click",l[3]),S=!0)},p(y,[H]){if(H&4&&r!==(r=y[2]?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16")&&u(g,"d",r),H&3){b=y[1];let w;for(w=0;w<b.length;w+=1){const q=ae(y,b,w);m[w]?m[w].p(q,H):(m[w]=ce(q),m[w].c(),m[w].m(h,null))}for(;w<m.length;w+=1)m[w].d(1);m.length=b.length}if(H&3){x=y[1];let w;for(w=0;w<x.length;w+=1){const q=re(y,x,w);A[w]?A[w].p(q,H):(A[w]=fe(q),A[w].c(),A[w].m(_,null))}for(;w<A.length;w+=1)A[w].d(1);A.length=x.length}H&4&&a!==(a=(y[2]?"":"hidden")+" px-2 pt-2 pb-3 space-y-1")&&u(_,"class",a)},i:W,o:W,d(y){y&&L(e),G(m,y),G(A,y),S=!1,c()}}}function Se(l,e,n){let{navigation:t}=e,{selected:s}=e,o=!1;const i=()=>n(2,o=!o),g=f=>n(0,s=f),r=f=>n(0,s=f);return l.$$set=f=>{"navigation"in f&&n(1,t=f.navigation),"selected"in f&&n(0,s=f.selected)},[s,t,o,i,g,r]}class $e extends F{constructor(e){super(),K(this,e,Se,Ae,P,{navigation:1,selected:0})}}function me(l,e,n){const t=l.slice();return t[6]=e[n],t}function de(l,e,n){const t=l.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function ge(l){let e,n,t=l[9]+"",s,o,i,g=l[10]+"";return{c(){e=p("div"),n=p("h5"),s=O(t),o=N(),i=p("p"),u(n,"class","pt-8 text-center text-gray-200 text-3xl text-bold tracking-wide"),u(i,"class","text-gray-200")},m(r,f){B(r,e,f),d(e,n),d(n,s),d(e,o),d(e,i),i.innerHTML=g},p(r,f){f&1&&t!==(t=r[9]+"")&&T(s,t),f&1&&g!==(g=r[10]+"")&&(i.innerHTML=g)},d(r){r&&L(e)}}}function he(l){let e,n,t,s=Object.entries(l[6].content[3]),o=[];for(let i=0;i<s.length;i+=1)o[i]=ge(de(l,s,i));return{c(){e=p("div");for(let i=0;i<o.length;i+=1)o[i].c();n=N(),u(e,"class",t=l[1]==l[6]?"hidden":"")},m(i,g){B(i,e,g);for(let r=0;r<o.length;r+=1)o[r].m(e,null);d(e,n)},p(i,g){if(g&1){s=Object.entries(i[6].content[3]);let r;for(r=0;r<s.length;r+=1){const f=de(i,s,r);o[r]?o[r].p(f,g):(o[r]=ge(f),o[r].c(),o[r].m(e,n))}for(;r<o.length;r+=1)o[r].d(1);o.length=s.length}g&3&&t!==(t=i[1]==i[6]?"hidden":"")&&u(e,"class",t)},d(i){i&&L(e),G(o,i)}}}function Ne(l){let e,n,t,s,o,i;function g(h){l[3](h)}function r(h){l[4](h)}let f={};l[0]!==void 0&&(f.navigation=l[0]),l[1]!==void 0&&(f.selected=l[1]),n=new $e({props:f}),I.push(()=>U(n,"navigation",g)),I.push(()=>U(n,"selected",r));let k=l[0],v=[];for(let h=0;h<k.length;h+=1)v[h]=he(me(l,k,h));return{c(){e=p("div"),Q(n.$$.fragment),o=N();for(let h=0;h<v.length;h+=1)v[h].c()},m(h,$){B(h,e,$),z(n,e,null),d(e,o);for(let M=0;M<v.length;M+=1)v[M].m(e,null);i=!0},p(h,[$]){const M={};if(!t&&$&1&&(t=!0,M.navigation=h[0],V(()=>t=!1)),!s&&$&2&&(s=!0,M.selected=h[1],V(()=>s=!1)),n.$set(M),$&3){k=h[0];let _;for(_=0;_<k.length;_+=1){const a=me(h,k,_);v[_]?v[_].p(a,$):(v[_]=he(a),v[_].c(),v[_].m(e,null))}for(;_<v.length;_+=1)v[_].d(1);v.length=k.length}},i(h){i||(C(n.$$.fragment,h),i=!0)},o(h){J(n.$$.fragment,h),i=!1},d(h){h&&L(e),D(n),G(v,h)}}}function Be(l,e,n){let{mission:t}=e,s=JSON.parse(t.briefings),o=[];s.forEach(function(f){o.push({name:f[0],content:f,show:!0})});let i=o[0];function g(f){o=f,n(0,o)}function r(f){i=f,n(1,i)}return l.$$set=f=>{"mission"in f&&n(2,t=f.mission)},[o,i,t,g,r]}class Le extends F{constructor(e){super(),K(this,e,Be,Ne,P,{mission:2})}}function qe(l){let e,n,t,s,o,i,g,r=l[0].user.username+"",f,k,v,h=l[0].text+"",$,M,_;return{c(){e=p("div"),n=p("img"),s=N(),o=p("div"),i=p("div"),g=p("div"),f=O(r),k=N(),v=p("div"),$=O(h),M=N(),_=p("div"),_.textContent="14 w",u(n,"class","rounded-full h-8 w-8 mr-2 mt-1 "),oe(n.src,t=l[0].user.avatar)||u(n,"src",t),u(n,"alt",""),u(g,"class","font-semibold text-sm leading-relaxed"),u(v,"class","text-normal leading-snug md:leading-normal"),u(i,"class","bg-gray-700 rounded-3xl px-4 py-2"),u(_,"class","text-sm ml-4 mt-0.5 text-gray-400"),u(e,"class","text-gray-200 py-4 flex")},m(a,S){B(a,e,S),d(e,n),d(e,s),d(e,o),d(o,i),d(i,g),d(g,f),d(i,k),d(i,v),d(v,$),d(o,M),d(o,_)},p(a,[S]){S&1&&!oe(n.src,t=a[0].user.avatar)&&u(n,"src",t),S&1&&r!==(r=a[0].user.username+"")&&T(f,r),S&1&&h!==(h=a[0].text+"")&&T($,h)},i:W,o:W,d(a){a&&L(e)}}}function Ce(l,e,n){let{comment:t}=e;return l.$$set=s=>{"comment"in s&&n(0,t=s.comment)},[t]}class Me extends F{constructor(e){super(),K(this,e,Ce,qe,P,{comment:0})}}function _e(l,e,n){const t=l.slice();return t[5]=e[n],t}function be(l){let e,n;return e=new Me({props:{comment:l[5]}}),{c(){Q(e.$$.fragment)},m(t,s){z(e,t,s),n=!0},p(t,s){const o={};s&1&&(o.comment=t[5]),e.$set(o)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function Oe(l){let e,n,t,s,o,i,g,r,f,k,v,h,$,M,_=l[0].comments.reverse(),a=[];for(let c=0;c<_.length;c+=1)a[c]=be(_e(l,_,c));const S=c=>J(a[c],1,1,()=>{a[c]=null});return{c(){e=p("form"),n=p("div"),t=p("div"),s=p("textarea"),o=N(),i=p("div"),g=p("button"),r=O("Submit"),k=N();for(let c=0;c<a.length;c+=1)a[c].c();v=Z(),u(s,"rows","4"),u(s,"class","px-0 w-full text-sm text-white border-0 bg-gray-800 focus:ring-0 placeholder-gray-400"),u(s,"placeholder","Write a comment..."),s.required=!0,u(t,"class","py-2 px-4 rounded-t-lg bg-gray-800"),u(g,"type","submit"),g.disabled=f=l[1].processing,u(g,"class","inline-flex items-center py-2.5 px-4 text-xs text-white font-medium rounded-lg bg-blue-700 hover:bg-blue-800"),u(i,"class","flex justify-between items-center py-2 px-3 border-t border-gray-600"),u(n,"class","mb-4 w-full rounded-lg bg-gray-700 border border-gray-600")},m(c,b){B(c,e,b),d(e,n),d(n,t),d(t,s),X(s,l[1].text),d(n,o),d(n,i),d(i,g),d(g,r),B(c,k,b);for(let m=0;m<a.length;m+=1)a[m].m(c,b);B(c,v,b),h=!0,$||(M=[E(s,"input",l[4]),E(e,"submit",we(l[3]))],$=!0)},p(c,[b]){if(b&2&&X(s,c[1].text),(!h||b&2&&f!==(f=c[1].processing))&&(g.disabled=f),b&1){_=c[0].comments.reverse();let m;for(m=0;m<_.length;m+=1){const x=_e(c,_,m);a[m]?(a[m].p(x,b),C(a[m],1)):(a[m]=be(x),a[m].c(),C(a[m],1),a[m].m(v.parentNode,v))}for(ee(),m=_.length;m<a.length;m+=1)S(m);te()}},i(c){if(!h){for(let b=0;b<_.length;b+=1)C(a[b]);h=!0}},o(c){a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)J(a[b]);h=!1},d(c){c&&L(e),c&&L(k),G(a,c),c&&L(v),$=!1,xe(M)}}}function He(l,e,n){let t,{mission:s}=e,o=ke({text:null});ye(l,o,r=>n(1,t=r));function i(){t.post(`/hub/missions/${s.id}/comments`,{onSuccess:()=>t.reset()})}function g(){t.text=this.value,o.set(t)}return l.$$set=r=>{"mission"in r&&n(0,s=r.mission)},[s,t,o,i,g]}class Je extends F{constructor(e){super(),K(this,e,He,Oe,P,{mission:0})}}function pe(l,e,n){const t=l.slice();return t[5]=e[n],t}function ve(l){let e,n;return e=new Me({props:{comment:l[5]}}),{c(){Q(e.$$.fragment)},m(t,s){z(e,t,s),n=!0},p(t,s){const o={};s&1&&(o.comment=t[5]),e.$set(o)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function Re(l){let e,n,t,s,o,i,g,r,f,k,v,h,$,M,_=l[0].notes.reverse(),a=[];for(let c=0;c<_.length;c+=1)a[c]=ve(pe(l,_,c));const S=c=>J(a[c],1,1,()=>{a[c]=null});return{c(){e=p("form"),n=p("div"),t=p("div"),s=p("textarea"),o=N(),i=p("div"),g=p("button"),r=O("Submit"),k=N();for(let c=0;c<a.length;c+=1)a[c].c();v=Z(),u(s,"rows","4"),u(s,"class","px-0 w-full text-sm text-white border-0 bg-gray-800 focus:ring-0 placeholder-gray-400"),u(s,"placeholder","Write a comment..."),s.required=!0,u(t,"class","py-2 px-4 rounded-t-lg bg-gray-800"),u(g,"type","submit"),g.disabled=f=l[1].processing,u(g,"class","inline-flex items-center py-2.5 px-4 text-xs text-white font-medium rounded-lg bg-blue-700 hover:bg-blue-800"),u(i,"class","flex justify-between items-center py-2 px-3 border-t border-gray-600"),u(n,"class","mb-4 w-full rounded-lg bg-gray-700 border border-gray-600")},m(c,b){B(c,e,b),d(e,n),d(n,t),d(t,s),X(s,l[1].text),d(n,o),d(n,i),d(i,g),d(g,r),B(c,k,b);for(let m=0;m<a.length;m+=1)a[m].m(c,b);B(c,v,b),h=!0,$||(M=[E(s,"input",l[4]),E(e,"submit",we(l[3]))],$=!0)},p(c,[b]){if(b&2&&X(s,c[1].text),(!h||b&2&&f!==(f=c[1].processing))&&(g.disabled=f),b&1){_=c[0].notes.reverse();let m;for(m=0;m<_.length;m+=1){const x=pe(c,_,m);a[m]?(a[m].p(x,b),C(a[m],1)):(a[m]=ve(x),a[m].c(),C(a[m],1),a[m].m(v.parentNode,v))}for(ee(),m=_.length;m<a.length;m+=1)S(m);te()}},i(c){if(!h){for(let b=0;b<_.length;b+=1)C(a[b]);h=!0}},o(c){a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)J(a[b]);h=!1},d(c){c&&L(e),c&&L(k),G(a,c),c&&L(v),$=!1,xe(M)}}}function Te(l,e,n){let t,{mission:s}=e,o=ke({text:null});ye(l,o,r=>n(1,t=r));function i(){t.post(`/hub/missions/${s.id}/notes`,{onSuccess:()=>t.reset()})}function g(){t.text=this.value,o.set(t)}return l.$$set=r=>{"mission"in r&&n(0,s=r.mission)},[s,t,o,i,g]}class We extends F{constructor(e){super(),K(this,e,Te,Re,P,{mission:0})}}function Ee(l){let e;return{c(){e=p("p"),e.textContent="Media"},m(n,t){B(n,e,t)},p:W,i:W,o:W,d(n){n&&L(e)}}}class Fe extends F{constructor(e){super(),K(this,e,null,Ee,P,{})}}function Ke(l){let e,n,t=l[0].display_name+"",s,o,i,g,r=l[0].user.username+"",f,k,v,h=l[0].summary+"",$,M,_,a,S,c,b,m,x,A;function y(j){l[3](j)}function H(j){l[4](j)}let w={};l[1]!==void 0&&(w.navigation=l[1]),l[2]!==void 0&&(w.selected=l[2]),a=new $e({props:w}),I.push(()=>U(a,"navigation",y)),I.push(()=>U(a,"selected",H));var q=l[2].component;function ne(j){return{props:{mission:j[0]}}}return q&&(x=new q(ne(l))),{c(){e=p("div"),n=p("h5"),s=O(t),o=N(),i=p("p"),g=O("By "),f=O(r),k=N(),v=p("p"),$=O(h),M=N(),_=p("div"),Q(a.$$.fragment),b=N(),m=p("div"),x&&Q(x.$$.fragment),u(n,"class","truncate text-center text-3xl font-bold text-white tracking-tight"),u(i,"class","truncate text-center text-sm font-bold text-gray-300"),u(v,"class","pt-2 truncate text-center text-sm font-normal text-gray-300"),u(m,"class","my-5 mx-20"),u(_,"class","pt-5"),u(e,"class","min-h-screen-no-nav lg:w-4/5 mx-auto p-3 shadow-md border border-gray-700 bg-gray-800")},m(j,R){B(j,e,R),d(e,n),d(n,s),d(e,o),d(e,i),d(i,g),d(i,f),d(e,k),d(e,v),d(v,$),d(e,M),d(e,_),z(a,_,null),d(_,b),d(_,m),x&&z(x,m,null),A=!0},p(j,[R]){(!A||R&1)&&t!==(t=j[0].display_name+"")&&T(s,t),(!A||R&1)&&r!==(r=j[0].user.username+"")&&T(f,r),(!A||R&1)&&h!==(h=j[0].summary+"")&&T($,h);const Y={};!S&&R&2&&(S=!0,Y.navigation=j[1],V(()=>S=!1)),!c&&R&4&&(c=!0,Y.selected=j[2],V(()=>c=!1)),a.$set(Y);const le={};if(R&1&&(le.mission=j[0]),q!==(q=j[2].component)){if(x){ee();const se=x;J(se.$$.fragment,1,0,()=>{D(se,1)}),te()}q?(x=new q(ne(j)),Q(x.$$.fragment),C(x.$$.fragment,1),z(x,m,null)):x=null}else q&&x.$set(le)},i(j){A||(C(a.$$.fragment,j),x&&C(x.$$.fragment,j),A=!0)},o(j){J(a.$$.fragment,j),x&&J(x.$$.fragment,j),A=!1},d(j){j&&L(e),D(a),x&&D(x)}}}const Ie=je;function Pe(l,e,n){let{mission:t}=e,s=[{name:"Briefing",component:Le,show:!0},{name:"AARs",component:Je,show:Array.isArray(t.comments)},{name:"Notes",component:We,show:Array.isArray(t.notes)},{name:"Media",component:Fe,show:!0}],o=s[0];function i(r){s=r,n(1,s)}function g(r){o=r,n(2,o)}return l.$$set=r=>{"mission"in r&&n(0,t=r.mission)},[t,s,o,i,g]}class Ue extends F{constructor(e){super(),K(this,e,Pe,Ke,P,{mission:0})}}export{Ue as default,Ie as layout};
